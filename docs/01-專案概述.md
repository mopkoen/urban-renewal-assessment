# 專案概述

## 📋 專案簡介

**都更危老重建評估系統 Pro** 是一個用於評估都市更新與危老重建專案的計算工具。系統幫助使用者計算建築面積、成本、收益和權益分配等關鍵指標，特別關注「一坪換一坪」的達成情況。

## 🎯 主要功能

### 1. 參數輸入
- **基本參數**：地號、地段、使用分區、基地面積、建蔽率、容積率等
- **容積規費**：機電、梯廳、陽台、屋突等免計容積上限設定
- **成本估算**：營建成本、法定造價、各項規費
- **銷售權益**：車位、樓層售價、分回條件等

### 2. 計算功能
- 建築面積試算（法定容積、獎勵容積、免計容積）
- 成本分析（重建費用、管理費、融資利息等）
- 收益預估（車位收入、樓層銷售收入）
- 權益分配（變現金額、分回坪數、一坪換幾坪）

### 3. 結果展示
- 視覺化圖表（成本分佈圓餅圖）
- 詳細數據表格
- 關鍵指標突出顯示
- 費用明細彈窗

### 4. 使用者體驗
- 多語言支援（繁體中文、簡體中文、英文）
- 深色/淺色主題切換
- 響應式設計（支援桌面與行動裝置）
- 範例資料快速載入

## 🛠 技術棧

### 前端框架
- **React 19.2.1** - UI 框架
- **TypeScript 5.8.2** - 型別安全
- **Vite 6.2.0** - 建置工具與開發伺服器

### UI 庫
- **Tailwind CSS** - 透過 CDN 引入，用於樣式設計
- **Heroicons** - 圖示庫
- **Recharts** - 圖表繪製

### 開發工具
- **@vitejs/plugin-react** - Vite 的 React 支援
- **Wrangler** - Cloudflare Pages 部署工具（開發依賴）

## 📁 專案架構

```
prorebuild/
├── components/          # React 組件
│   ├── InputField.tsx
│   └── ResultsDashboard.tsx
├── utils/              # 工具函數
│   ├── calculations.ts  # 核心計算邏輯
│   └── i18n.ts         # 國際化
├── dist/               # 建置輸出（自動生成）
├── public/             # 靜態資源
├── App.tsx             # 主應用程式組件
├── index.tsx           # 應用程式入口
├── types.ts            # TypeScript 類型定義
├── index.html          # HTML 模板
├── vite.config.ts      # Vite 配置
└── package.json        # 專案配置與依賴
```

## 🎨 設計特色

### 色彩系統
- 主色調：藍色系（`primary-500: #3b82f6`）
- 背景：淺色模式（`slate-100`）、深色模式（`slate-900`）
- 強調色：成功狀態使用綠色系（`emerald-500`）

### 動畫效果
- 卡片滑入動畫（`slide-up`）
- 淡入效果（`fade-in`）
- 縮放進入（`scale-in`）
- 懸停互動效果

### 響應式設計
- 桌面：左右分欄（輸入區 40%，結果區 60%）
- 平板：垂直堆疊
- 手機：單欄顯示，可滾動

## 🔄 資料流程

```
使用者輸入 (InputState)
    ↓
計算引擎 (calculateResults)
    ↓
計算結果 (CalculationResult)
    ↓
結果展示 (ResultsDashboard)
```

## 📊 核心計算邏輯

系統主要計算以下內容：

1. **面積計算**
   - 最大建築面積 = 基地面積 × 建蔽率
   - 法定容積面積 = 基地面積 × 容積率
   - 獎勵容積 = 法定容積 × 50%
   - 免計容積（機電、梯廳、陽台、屋突）
   - 地下室面積

2. **成本計算**
   - 重建費用 = 總坪數 × 營建成本
   - 設計費用 = 法定造價總額 × 9%
   - 融資利息 = 重建費用 × 3.26% × 貸款年數
   - 管理費用（人事、銷售、風險各 5%）

3. **收益計算**
   - 車位收入 = 車位數量 × 車位單價
   - 一樓收入 = 一樓銷售面積 × 一樓單價
   - 二樓以上收入 = 二樓以上銷售面積 × 二樓以上單價

4. **權益分配**
   - 變現金額 = 銷售車位收入 + 銷售樓層收入
   - 分回室內坪數 = (一樓 + 保留二樓以上) × (1 - 公設比)
   - 一坪換幾坪 = 分回室內坪數 / 更新前原室內坪數

## 🔗 相關文檔

- [專案結構](./02-專案結構.md)
- [主應用程式](./04-主應用程式.md)
- [計算邏輯](./06-計算邏輯.md)

