# ProRebuild System / éƒ½æ›´é‡å»ºè©¦ç®—å·¥å…·

> **âš ï¸ é‡è¦è²æ˜ / Important Notice**  
> Educational / learning use only. Not financial, legal, or architectural advice.  
> åƒ…ä¾›æ•™å­¸èˆ‡å­¸ç¿’ä½¿ç”¨ï¼Œéè²¡å‹™ã€æ³•å¾‹æˆ–å»ºç¯‰å°ˆæ¥­å»ºè­°ã€‚

## ğŸ“‹ ç›®éŒ„ / Table of Contents

- [å°ˆæ¡ˆæ¦‚è¿° / Overview](#å°ˆæ¡ˆæ¦‚è¿°--overview)
- [ä¸»è¦åŠŸèƒ½ / Key Features](#ä¸»è¦åŠŸèƒ½--key-features)
- [æŠ€è¡“æ£§ / Tech Stack](#æŠ€è¡“æ£§--tech-stack)
- [å°ˆæ¡ˆçµæ§‹ / Project Structure](#å°ˆæ¡ˆçµæ§‹--project-structure)
- [æ ¸å¿ƒè¨ˆç®—é‚è¼¯ / Key Calculations](#æ ¸å¿ƒè¨ˆç®—é‚è¼¯--key-calculations)
- [å¿«é€Ÿé–‹å§‹ / Getting Started](#å¿«é€Ÿé–‹å§‹--getting-started)
- [é–‹ç™¼æŒ‡å— / Development Guide](#é–‹ç™¼æŒ‡å—--development-guide)
- [éƒ¨ç½²æŒ‡å— / Deployment Guide](#éƒ¨ç½²æŒ‡å—--deployment-guide)
- [ç’°å¢ƒè®Šæ•¸ / Environment Variables](#ç’°å¢ƒè®Šæ•¸--environment-variables)
- [å¸¸è¦‹å•é¡Œ / FAQ](#å¸¸è¦‹å•é¡Œ--faq)
- [æˆæ¬Š / License](#æˆæ¬Š--license)

---

## ğŸ“– å°ˆæ¡ˆæ¦‚è¿° / Overview

ProRebuild æ˜¯ä¸€å€‹åŸºæ–¼ React + TypeScript é–‹ç™¼çš„éƒ½æ›´å±è€é‡å»ºè©•ä¼°ç³»çµ±ï¼Œæä¾›å³æ™‚è©¦ç®—åŠŸèƒ½ï¼Œå¹«åŠ©ä½¿ç”¨è€…è©•ä¼°éƒ½å¸‚æ›´æ–°å’Œå±è€é‡å»ºå°ˆæ¡ˆçš„å¯è¡Œæ€§ã€‚ç³»çµ±æ”¯æ´åœ°ç±è³‡è¨Šã€å®¹ç©ç‡ã€å»ºè”½ç‡ã€æˆæœ¬åƒæ•¸ã€éŠ·å”®å‡è¨­ç­‰å¤šé …è¼¸å…¥ï¼Œä¸¦å³æ™‚è¨ˆç®—é¢ç©æ‹†è§£ã€éŠ·å”®æ•ˆç‡ã€æˆæœ¬åˆ†å¸ƒã€æ”¶å…¥èˆ‡æ¬Šåˆ©åˆ†é…ç­‰é—œéµæŒ‡æ¨™ã€‚

ProRebuild is a React + TypeScript-based urban renewal and old building reconstruction assessment system that provides real-time calculation capabilities to help users evaluate the feasibility of urban renewal and old building reconstruction projects. The system supports multiple inputs including cadastral information, floor area ratio (FAR), building coverage ratio, cost parameters, and sales assumptions, and calculates key metrics such as area breakdown, sales efficiency, cost distribution, revenue, and equity allocation in real-time.

### ä¸»è¦ç”¨é€” / Primary Use Cases

- **éƒ½æ›´å°ˆæ¡ˆè©•ä¼°** / Urban Renewal Project Assessment
- **å±è€é‡å»ºåˆ†æ** / Old Building Reconstruction Analysis
- **è²¡å‹™å¯è¡Œæ€§åˆ†æ** / Financial Feasibility Analysis
- **æ¬Šåˆ©åˆ†é…è©¦ç®—** / Equity Allocation Calculation
- **æˆæœ¬æ•ˆç›Šè©•ä¼°** / Cost-Benefit Evaluation

---

## âœ¨ ä¸»è¦åŠŸèƒ½ / Key Features

### 1. å¼•å°å¼è¼¸å…¥ä»‹é¢ / Guided Input Interface

ç³»çµ±å°‡è¼¸å…¥åƒæ•¸åˆ†ç‚ºå››å€‹ä¸»è¦é¡åˆ¥ï¼Œæä¾›æ¸…æ™°çš„å¼•å°å¼è¼¸å…¥é«”é©—ï¼š

#### ğŸ“ åŸºæœ¬è³‡è¨Š (BASIC)
- **åœ°ç±è³‡è¨Š**ï¼šåœ°è™Ÿã€åœ°æ®µã€ä½¿ç”¨åˆ†å€
- **åŸºåœ°åƒæ•¸**ï¼šåŸºåœ°é¢ç©ã€å»ºè”½ç‡ã€å®¹ç©ç‡ã€é–‹æŒ–ç‡
- **å»ºç¯‰è¦åŠƒ**ï¼šé ä¼°åœ°ä¸Šå±¤æ•¸ã€åœ°ä¸‹å±¤æ•¸ã€å±‹çªå±¤æ•¸ã€é ä¼°æ¨“é«˜ã€æœ€å¤§è·¯å¯¬

#### ğŸ“ æ³•è¦åƒæ•¸ (REGULATIONS)
- **å…è¨ˆå®¹ç©ä¸Šé™**ï¼šæ©Ÿé›»ä¸Šé™ã€æ¢¯å»³ä¸Šé™ã€é™½å°ä¸Šé™ã€å–®å±¤å±‹çªä¸Šé™
- æ‰€æœ‰å…è¨ˆå®¹ç©é …ç›®å‡å—æ³•å®šå®¹ç©ç‡ä¸Šé™é™åˆ¶

#### ğŸ’° æˆæœ¬åƒæ•¸ (COSTS)
- **ç‡Ÿå»ºæˆæœ¬**ï¼šç‡Ÿå»ºæˆæœ¬ï¼ˆå…ƒ/åªï¼‰ã€æ³•å®šå·¥ç¨‹é€ åƒ¹ï¼ˆå…ƒ/ã¡ï¼‰
- **è¦è²»è¨­å®š**ï¼šéƒ½æ›´è¦åŠƒè²»ã€ä¸å‹•ç”¢ä¼°åƒ¹è²»ã€åœŸåœ°é‘‘ç•Œè²»ã€é‘½æ¢è²»ã€é„°æˆ¿é‘‘å®šè²»

#### ğŸ  éŠ·å”®èˆ‡æ¬Šç›Š (SALES)
- **å…¬è¨­èˆ‡è»Šä½**ï¼šé ä¼°å…¬è¨­æ¯”ã€è»Šä½å–®ä½é¢ç©ã€é ä¼°è»Šä½å–®åƒ¹
- **å”®åƒ¹é ä¼°**ï¼šä¸€æ¨“å–®åƒ¹ã€äºŒæ¨“ä»¥ä¸Šå–®åƒ¹
- **åˆ†å›æ¢ä»¶**ï¼šæ›´æ–°å‰åŸå®¤å…§åªæ•¸ã€æ›´æ–°å¾Œç¸½æˆ¶æ•¸ã€åœ°ä¸»äººæ•¸ã€éŠ·å”®é¢ç©ç™¾åˆ†æ¯”

### 2. å³æ™‚è¨ˆç®—çµæœ / Real-Time Calculation Results

#### ğŸ“Š é¢ç©æ‹†è§£ (Area Breakdown)
- æœ€å¤§å»ºç¯‰é¢ç©ã€æ³•å®šå®¹ç©ã€çå‹µå®¹ç©
- æ©Ÿé›»ã€æ¢¯å»³ã€é™½å°ã€å±‹çªé¢ç©
- é–‹æŒ–é¢ç©ã€åœ°ä¸‹å®¤é¢ç©
- ç¸½åªæ•¸ã€ç¸½å¹³æ–¹å…¬å°º

#### ğŸ’µ éŠ·å”®åˆ†æ (Sales Analysis)
- è»Šä½é¢ç©ã€ç¸½è»Šä½æ•¸
- ä¸€æ¨“éŠ·å”®é¢ç©ã€äºŒæ¨“ä»¥ä¸ŠéŠ·å”®é¢ç©ã€å‰©é¤˜é¢ç©
- ç¸½éŠ·å”®åªæ•¸ã€åœŸåœ°æ•ˆç‡

#### ğŸ’¸ æˆæœ¬åˆ†æ (Cost Analysis)
- é‡å»ºæˆæœ¬ã€è¨­è¨ˆè²»ã€è²¸æ¬¾åˆ©æ¯
- ç®¡ç†è²»ï¼ˆäººäº‹ã€éŠ·å”®ã€é¢¨éšªå„ 5%ï¼‰
- å…¶ä»–è²»ç”¨æ˜ç´°ï¼ˆåŸºé‡‘ã€è¨±å¯è²»ã€å¯©æŸ¥è²»ã€çå‹µç”³è«‹è²»ã€ç®¡ç·šè²»ã€åœ°ç±è²»ã€æ¬Šåˆ©è²»ã€å°èŠ±ç¨…ã€ä¿¡è¨—è²»ï¼‰
- ç¸½æˆæœ¬ã€å…±åŒè² æ“”æ¯”ä¾‹

#### ğŸ’° æ”¶å…¥åˆ†æ (Revenue Analysis)
- è»Šä½æ”¶å…¥ã€ä¸€æ¨“æ”¶å…¥ã€äºŒæ¨“ä»¥ä¸Šæ”¶å…¥
- ç¸½æ”¶å…¥

#### âš–ï¸ æ¬Šåˆ©åˆ†é… (Equity Allocation)
- éŠ·å”®è»Šä½æ•¸ã€éŠ·å”®äºŒæ¨“ä»¥ä¸Šåªæ•¸
- ç¾é‡‘å›é¥‹ã€åˆ†å›å®¤å…§åªæ•¸
- åªæ•¸äº¤æ›æ¯”ã€åˆ†å›æ¯”ä¾‹
- è²¸æ¬¾å¹´æœŸ

### 3. è¦–è¦ºåŒ–åœ–è¡¨ / Visualization Charts

- **æˆæœ¬åˆ†å¸ƒåœ“é¤…åœ–**ï¼šç›´è§€å±•ç¤ºå„é …æˆæœ¬å æ¯”
- **è©³ç´°æˆæœ¬æ˜ç´°å½ˆçª—**ï¼šé»æ“ŠæŸ¥çœ‹å®Œæ•´æˆæœ¬æ‹†è§£
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**ï¼šé©é…æ¡Œé¢å’Œè¡Œå‹•è£ç½®

### 4. å¤šèªç³»æ”¯æ´ / Internationalization (i18n)

- **ç¹é«”ä¸­æ–‡** (zh-TW)
- **ç®€ä½“ä¸­æ–‡** (zh-CN)
- **English** (en)

### 5. ä¸»é¡Œåˆ‡æ› / Theme Switching

- **æ·ºè‰²ä¸»é¡Œ** (Light Mode)
- **æ·±è‰²ä¸»é¡Œ** (Dark Mode)
- è‡ªå‹•ä¿å­˜ä¸»é¡Œåå¥½

### 6. ç¤ºç¯„è³‡æ–™ / Demo Dataset

æä¾›é è¨­çš„ç¤ºç¯„è³‡æ–™ï¼Œæ–¹ä¾¿å¿«é€Ÿæ¸¬è©¦å’Œå­¸ç¿’ç³»çµ±åŠŸèƒ½ã€‚

---

## ğŸ›  æŠ€è¡“æ£§ / Tech Stack

### æ ¸å¿ƒæ¡†æ¶ / Core Framework
- **React 19** - ä½¿ç”¨è€…ä»‹é¢æ¡†æ¶
- **TypeScript 5.8** - å‹åˆ¥å®‰å…¨çš„ JavaScript
- **Vite 6** - å¿«é€Ÿçš„å‰ç«¯å»ºç½®å·¥å…·

### UI æ¡†æ¶èˆ‡æ¨£å¼ / UI Framework & Styling
- **Tailwind CSS** (CDN) - å¯¦ç”¨å„ªå…ˆçš„ CSS æ¡†æ¶
- **Heroicons** - ç²¾ç¾çš„ SVG åœ–ç¤ºåº«
- **Recharts** - React åœ–è¡¨åº«

### é–‹ç™¼å·¥å…· / Development Tools
- **@vitejs/plugin-react** - Vite React æ’ä»¶
- **@types/node** - Node.js å‹åˆ¥å®šç¾©

### éƒ¨ç½²å¹³å° / Deployment Platforms
- **Cloudflare Workers** - é‚Šç·£é‹ç®—å¹³å°
- **GitHub Pages** - éœæ…‹ç¶²ç«™è¨—ç®¡
- **Wrangler** - Cloudflare Workers éƒ¨ç½²å·¥å…·

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹ / Project Structure

```
prorebuild/
â”œâ”€â”€ index.html              # HTML å…¥å£æª”æ¡ˆ
â”œâ”€â”€ index.tsx               # React æ‡‰ç”¨ç¨‹å¼å…¥å£é»
â”œâ”€â”€ index.css               # å…¨åŸŸæ¨£å¼
â”œâ”€â”€ App.tsx                 # ä¸»æ‡‰ç”¨ç¨‹å¼å…ƒä»¶ï¼ˆæ¨™ç±¤é å’Œè¼¸å…¥è¡¨å–®ï¼‰
â”œâ”€â”€ types.ts                # TypeScript å‹åˆ¥å®šç¾©å’Œåˆ—èˆ‰
â”‚
â”œâ”€â”€ components/             # å¯é‡ç”¨ UI å…ƒä»¶
â”‚   â”œâ”€â”€ InputField.tsx      # è¼¸å…¥æ¬„ä½å…ƒä»¶
â”‚   â””â”€â”€ ResultsDashboard.tsx # çµæœå„€è¡¨æ¿å…ƒä»¶
â”‚
â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•¸å’Œæ¥­å‹™é‚è¼¯
â”‚   â”œâ”€â”€ calculations.ts     # æ ¸å¿ƒè¨ˆç®—é‚è¼¯
â”‚   â””â”€â”€ i18n.ts            # å¤šèªç³»ç¿»è­¯å­—å…¸
â”‚
â”œâ”€â”€ public/                 # éœæ…‹è³‡æº
â”‚   â””â”€â”€ _redirects         # é‡å®šå‘è¦å‰‡ï¼ˆç”¨æ–¼ SPAï¼‰
â”‚
â”œâ”€â”€ docs/                   # å°ˆæ¡ˆæ–‡æª”
â”‚   â”œâ”€â”€ README.md          # æ–‡æª”ç´¢å¼•
â”‚   â”œâ”€â”€ 01-å°ˆæ¡ˆæ¦‚è¿°.md
â”‚   â”œâ”€â”€ 02-å°ˆæ¡ˆçµæ§‹.md
â”‚   â”œâ”€â”€ 03-å…¥å£æª”æ¡ˆ.md
â”‚   â”œâ”€â”€ 04-ä¸»æ‡‰ç”¨ç¨‹å¼.md
â”‚   â”œâ”€â”€ 05-é¡å‹å®šç¾©.md
â”‚   â””â”€â”€ 06-è¨ˆç®—é‚è¼¯.md
â”‚
â”œâ”€â”€ dist/                   # å»ºç½®è¼¸å‡ºç›®éŒ„ï¼ˆè«‹å‹¿æ‰‹å‹•ç·¨è¼¯ï¼‰
â”‚
â”œâ”€â”€ worker.js               # Cloudflare Worker è…³æœ¬
â”œâ”€â”€ wrangler.toml           # Cloudflare Workers é…ç½®æª”æ¡ˆ
â”œâ”€â”€ vite.config.ts          # Vite å»ºç½®é…ç½®
â”œâ”€â”€ tsconfig.json           # TypeScript é…ç½®
â”œâ”€â”€ package.json            # å°ˆæ¡ˆä¾è³´å’Œè…³æœ¬
â”‚
â””â”€â”€ .github/
    â””â”€â”€ workflows/
        â””â”€â”€ deploy-pages.yml # GitHub Pages è‡ªå‹•éƒ¨ç½²å·¥ä½œæµ
```

### æª”æ¡ˆèªªæ˜ / File Descriptions

- **`index.tsx`**: React æ‡‰ç”¨ç¨‹å¼çš„å…¥å£é»ï¼Œè² è²¬æ›è¼‰æ ¹å…ƒä»¶
- **`App.tsx`**: ä¸»æ‡‰ç”¨ç¨‹å¼å…ƒä»¶ï¼ŒåŒ…å«æ¨™ç±¤é åˆ‡æ›ã€è¼¸å…¥è¡¨å–®ã€çµæœé¡¯ç¤ºå’Œè¨­å®šé¸å–®
- **`types.ts`**: å®šç¾©æ‰€æœ‰å…±äº«çš„ TypeScript å‹åˆ¥ã€ä»‹é¢å’Œåˆ—èˆ‰
- **`components/InputField.tsx`**: å¯é‡ç”¨çš„è¼¸å…¥æ¬„ä½å…ƒä»¶ï¼Œæ”¯æ´æ–‡å­—å’Œæ•¸å­—è¼¸å…¥
- **`components/ResultsDashboard.tsx`**: çµæœå„€è¡¨æ¿å…ƒä»¶ï¼Œé¡¯ç¤ºè¨ˆç®—çµæœã€åœ–è¡¨å’Œè©³ç´°è³‡è¨Š
- **`utils/calculations.ts`**: æ ¸å¿ƒè¨ˆç®—é‚è¼¯ï¼ŒåŒ…å«æ‰€æœ‰æ¥­å‹™è¨ˆç®—å‡½æ•¸
- **`utils/i18n.ts`**: å¤šèªç³»ç¿»è­¯å­—å…¸ï¼Œæ”¯æ´ä¸‰ç¨®èªè¨€
- **`worker.js`**: Cloudflare Worker è…³æœ¬ï¼Œç”¨æ–¼æœå‹™éœæ…‹æª”æ¡ˆå’Œè™•ç† SPA è·¯ç”±
- **`wrangler.toml`**: Cloudflare Workers é…ç½®æª”æ¡ˆ

---

## ğŸ§® æ ¸å¿ƒè¨ˆç®—é‚è¼¯ / Key Calculations

### é¢ç©è¨ˆç®— / Area Calculations

#### æœ€å¤§å»ºç¯‰é¢ç© (Max Build Area)
```
æœ€å¤§å»ºç¯‰é¢ç© = åŸºåœ°é¢ç© Ã— å»ºè”½ç‡
```

#### æ³•å®šå®¹ç© (Legal FAR)
```
æ³•å®šå®¹ç© = åŸºåœ°é¢ç© Ã— å®¹ç©ç‡
```

#### çå‹µå®¹ç© (Bonus FAR)
```
çå‹µå®¹ç© = æ³•å®šå®¹ç© Ã— 50%
```

#### å…è¨ˆå®¹ç© (Exemptions)
- **æ©Ÿé›»é¢ç©** = æ³•å®šå®¹ç© Ã— æ©Ÿé›»ä¸Šé™ï¼ˆå—æ³•å®šå®¹ç©ä¸Šé™é™åˆ¶ï¼‰
- **æ¢¯å»³é¢ç©** = æ³•å®šå®¹ç© Ã— æ¢¯å»³ä¸Šé™ï¼ˆå—æ³•å®šå®¹ç©ä¸Šé™é™åˆ¶ï¼‰
- **é™½å°é¢ç©** = æ³•å®šå®¹ç© Ã— é™½å°ä¸Šé™ï¼ˆå—æ³•å®šå®¹ç©ä¸Šé™é™åˆ¶ï¼‰
- **å±‹çªé¢ç©** = æ³•å®šå®¹ç© Ã— å±‹çªä¸Šé™ Ã— å±‹çªå±¤æ•¸ï¼ˆå—æ³•å®šå®¹ç©ä¸Šé™é™åˆ¶ï¼‰

#### åœ°ä¸‹å®¤é¢ç© (Basement Area)
```
åœ°ä¸‹å®¤é¢ç© = åŸºåœ°é¢ç© Ã— é–‹æŒ–ç‡ Ã— åœ°ä¸‹å±¤æ•¸
```

### éŠ·å”®è¨ˆç®— / Sales Calculations

#### è»Šä½è¨ˆç®— (Parking)
```
è»Šä½é¢ç© = åœ°ä¸‹å®¤é¢ç© Ã— 65% Ã— è»Šä½å–®ä½é¢ç©
ç¸½è»Šä½æ•¸ = è»Šä½é¢ç© / è»Šä½å–®ä½é¢ç©
```

#### éŠ·å”®é¢ç© (Saleable Area)
- **ä¸€æ¨“éŠ·å”®é¢ç©**ï¼šå¤šå±¤å»ºç¯‰æ™‚ï¼Œä¸€æ¨“ä½”ç¸½éŠ·å”®é¢ç©çš„ 65%
- **äºŒæ¨“ä»¥ä¸ŠéŠ·å”®é¢ç©**ï¼šå‰©é¤˜çš„éŠ·å”®é¢ç©
- **ç¸½éŠ·å”®åªæ•¸**ï¼šæ’é™¤åœ°ä¸‹å®¤å¾Œçš„ç¸½åªæ•¸

#### åœŸåœ°æ•ˆç‡ (Land Efficiency)
```
åœŸåœ°æ•ˆç‡ = ç¸½éŠ·å”®åªæ•¸ / åŸºåœ°åªæ•¸
```

### æˆæœ¬è¨ˆç®— / Cost Calculations

#### é‡å»ºæˆæœ¬ (Rebuild Cost)
```
é‡å»ºæˆæœ¬ = ç¸½åªæ•¸ Ã— ç‡Ÿå»ºæˆæœ¬ï¼ˆå…ƒ/åªï¼‰
```

#### æ³•å®šå·¥ç¨‹é€ åƒ¹ (Legal Cost)
```
æ³•å®šå·¥ç¨‹é€ åƒ¹ = æ³•å®šå®¹ç© Ã— æ³•å®šå·¥ç¨‹é€ åƒ¹ï¼ˆå…ƒ/ã¡ï¼‰
```

#### è¨­è¨ˆè²» (Design Fee)
```
è¨­è¨ˆè²» = é‡å»ºæˆæœ¬ Ã— 3%
```

#### è²¸æ¬¾åˆ©æ¯ (Loan Interest)
```
è²¸æ¬¾åˆ©æ¯ = é‡å»ºæˆæœ¬ Ã— è²¸æ¬¾åˆ©ç‡ Ã— è²¸æ¬¾å¹´æœŸ
```

#### ç®¡ç†è²» (Management Fees)
- **äººäº‹ç®¡ç†è²»** = é‡å»ºæˆæœ¬ Ã— 5%
- **éŠ·å”®ç®¡ç†è²»** = é‡å»ºæˆæœ¬ Ã— 5%
- **é¢¨éšªç®¡ç†è²»** = é‡å»ºæˆæœ¬ Ã— 5%
- **ç¸½ç®¡ç†è²»** = äººäº‹ + éŠ·å”® + é¢¨éšª

#### å…¶ä»–è²»ç”¨ (Other Fees)
- åŸºé‡‘ã€è¨±å¯è²»ã€å¯©æŸ¥è²»ã€çå‹µç”³è«‹è²»
- ç®¡ç·šè²»ã€åœ°ç±è²»ã€æ¬Šåˆ©è²»
- å°èŠ±ç¨…ã€ä¿¡è¨—è²»
- è¦è²»ï¼ˆéƒ½æ›´è¦åŠƒè²»ã€ä¸å‹•ç”¢ä¼°åƒ¹è²»ã€åœŸåœ°é‘‘ç•Œè²»ã€é‘½æ¢è²»ã€é„°æˆ¿é‘‘å®šè²»ï¼‰

#### ç¸½æˆæœ¬ (Total Cost)
```
ç¸½æˆæœ¬ = é‡å»ºæˆæœ¬ + è¨­è¨ˆè²» + è²¸æ¬¾åˆ©æ¯ + ç¸½ç®¡ç†è²» + å…¶ä»–è²»ç”¨ + è¦è²»
```

### æ”¶å…¥è¨ˆç®— / Revenue Calculations

```
è»Šä½æ”¶å…¥ = éŠ·å”®è»Šä½æ•¸ Ã— è»Šä½å–®åƒ¹
ä¸€æ¨“æ”¶å…¥ = ä¸€æ¨“éŠ·å”®é¢ç© Ã— ä¸€æ¨“å–®åƒ¹
äºŒæ¨“ä»¥ä¸Šæ”¶å…¥ = äºŒæ¨“ä»¥ä¸ŠéŠ·å”®é¢ç© Ã— äºŒæ¨“ä»¥ä¸Šå–®åƒ¹
ç¸½æ”¶å…¥ = è»Šä½æ”¶å…¥ + ä¸€æ¨“æ”¶å…¥ + äºŒæ¨“ä»¥ä¸Šæ”¶å…¥
```

### æ¬Šåˆ©åˆ†é…è¨ˆç®— / Equity Allocation Calculations

#### ç¾é‡‘å›é¥‹ (Cash Back)
```
ç¾é‡‘å›é¥‹ = è»Šä½æ”¶å…¥ + äºŒæ¨“ä»¥ä¸Šæ”¶å…¥ Ã— éŠ·å”®é¢ç©ç™¾åˆ†æ¯”
```

#### åˆ†å›å®¤å…§åªæ•¸ (Return Indoor Area)
```
åˆ†å›å®¤å…§åªæ•¸ = (ç¸½åªæ•¸ - éŠ·å”®é¢ç©) Ã— (1 - å…¬è¨­æ¯”)
```

#### åªæ•¸äº¤æ›æ¯” (Ping Exchange Ratio)
```
åªæ•¸äº¤æ›æ¯” = åˆ†å›å®¤å…§åªæ•¸ / æ›´æ–°å‰åŸå®¤å…§åªæ•¸
```

#### åˆ†å›æ¯”ä¾‹ (Return Ratio)
```
åˆ†å›æ¯”ä¾‹ = åˆ†å›å®¤å…§åªæ•¸ / æ›´æ–°å‰åŸå®¤å…§åªæ•¸ Ã— 100%
```

---

## ğŸš€ å¿«é€Ÿé–‹å§‹ / Getting Started

### ç³»çµ±éœ€æ±‚ / Prerequisites

- **Node.js 18+** (å»ºè­°ä½¿ç”¨ nvm å®‰è£ï¼š`nvm install 18 && nvm use 18`)
- **npm** (éš¨ Node.js é™„å¸¶)

### å®‰è£æ­¥é©Ÿ / Installation Steps

#### 1. å…‹éš†å°ˆæ¡ˆ / Clone Repository

```bash
git clone https://github.com/mopkoen/urban-renewal-assessment.git
cd urban-renewal-assessment
```

#### 2. å®‰è£ä¾è³´ / Install Dependencies

```bash
npm install
```

#### 3. é…ç½®ç’°å¢ƒè®Šæ•¸ / Configure Environment Variables

åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„å‰µå»º `.env.local` æª”æ¡ˆï¼ˆæ­¤æª”æ¡ˆå·²è¢« gitignoreï¼‰ï¼š

```env
GEMINI_API_KEY=your_api_key_here
```

> **æ³¨æ„**ï¼šç›®å‰å°ˆæ¡ˆä¸­ GEMINI_API_KEY ç‚ºå¯é¸é …ï¼Œå¦‚æœä¸éœ€è¦ AI åŠŸèƒ½å¯ä»¥çœç•¥ã€‚

#### 4. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ / Start Development Server

```bash
npm run dev
```

é–‹ç™¼ä¼ºæœå™¨å°‡åœ¨ http://localhost:5173 å•Ÿå‹•ã€‚

#### 5. å»ºç½®æ­£å¼ç‰ˆ / Build for Production

```bash
npm run build
```

å»ºç½®è¼¸å‡ºå°‡ç”Ÿæˆåœ¨ `dist/` ç›®éŒ„ã€‚

#### 6. é è¦½å»ºç½®çµæœ / Preview Build

```bash
npm run preview
```

---

## ğŸ’» é–‹ç™¼æŒ‡å— / Development Guide

### å¯ç”¨æŒ‡ä»¤ / Available Commands

| æŒ‡ä»¤ | èªªæ˜ |
|------|------|
| `npm run dev` | å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ï¼ˆhttp://localhost:5173ï¼‰ |
| `npm run build` | å»ºç½®æ­£å¼ç‰ˆåˆ° `dist/` ç›®éŒ„ |
| `npm run preview` | æœ¬åœ°é è¦½å»ºç½®çµæœ |
| `npm run deploy:worker` | å»ºç½®ä¸¦éƒ¨ç½²åˆ° Cloudflare Workers |
| `npm run deploy:pages` | å»ºç½®ä¸¦éƒ¨ç½²åˆ° Cloudflare Pages |
| `npm run deploy` | é è¨­éƒ¨ç½²åˆ° Cloudflare Workers |

### æ–°å¢åŠŸèƒ½ / Adding New Features

#### æ–°å¢è¼¸å…¥æ¬„ä½ / Adding New Input Fields

1. **æ›´æ–°å‹åˆ¥å®šç¾©** (`types.ts`)
   - åœ¨ `InputState` ä»‹é¢ä¸­æ–°å¢æ¬„ä½
   - åœ¨ `TabCategory` åˆ—èˆ‰ä¸­æ–°å¢æ¨™ç±¤ï¼ˆå¦‚éœ€è¦ï¼‰

2. **æ›´æ–°å¤šèªç³»** (`utils/i18n.ts`)
   - åœ¨å°æ‡‰çš„èªè¨€å€å¡Šä¸­æ–°å¢ç¿»è­¯éµå€¼

3. **æ›´æ–°è¨ˆç®—é‚è¼¯** (`utils/calculations.ts`)
   - åœ¨ `calculateResults` å‡½æ•¸ä¸­ä½¿ç”¨æ–°æ¬„ä½é€²è¡Œè¨ˆç®—

4. **æ›´æ–° UI** (`App.tsx`)
   - åœ¨å°æ‡‰çš„æ¨™ç±¤é ä¸­æ–°å¢ `InputField` å…ƒä»¶

#### æ–°å¢èªè¨€ / Adding New Language

1. åœ¨ `types.ts` ä¸­æ›´æ–° `Language` å‹åˆ¥
2. åœ¨ `utils/i18n.ts` ä¸­æ–°å¢èªè¨€å€å¡Š
3. åœ¨ `App.tsx` ä¸­æ›´æ–°èªè¨€é¸æ“‡å™¨

### ç¨‹å¼ç¢¼é¢¨æ ¼ / Code Style

- **ç¸®æ’**ï¼š2 å€‹ç©ºæ ¼
- **å¼•è™Ÿ**ï¼šå–®å¼•è™Ÿ
- **åˆ†è™Ÿ**ï¼šä½¿ç”¨åˆ†è™Ÿ
- **å‘½å**ï¼š
  - è®Šæ•¸å’Œå‡½æ•¸ï¼šcamelCase
  - å…ƒä»¶ï¼šPascalCase
  - å¸¸æ•¸ï¼šUPPER_SNAKE_CASE

### å‹åˆ¥å®‰å…¨ / Type Safety

- æ‰€æœ‰å‡½æ•¸åƒæ•¸å’Œè¿”å›å€¼éƒ½æ‡‰è©²æœ‰æ˜ç¢ºçš„å‹åˆ¥å®šç¾©
- ä½¿ç”¨ TypeScript çš„åš´æ ¼æ¨¡å¼
- é¿å…ä½¿ç”¨ `any` å‹åˆ¥

---

## ğŸš¢ éƒ¨ç½²æŒ‡å— / Deployment Guide

### Cloudflare Workers éƒ¨ç½² / Cloudflare Workers Deployment

#### 1. å®‰è£ Wrangler CLI

```bash
npm install -D wrangler
```

#### 2. ç™»å…¥ Cloudflare

```bash
npx wrangler login
```

#### 3. é…ç½® `wrangler.toml`

å°ˆæ¡ˆå·²åŒ…å« `wrangler.toml` é…ç½®æª”æ¡ˆï¼š

```toml
name = "prorebuild"
main = "worker.js"
compatibility_date = "2024-01-01"

[assets]
directory = "./dist"
binding = "ASSETS"
```

#### 4. éƒ¨ç½²

```bash
npm run deploy:worker
```

æˆ–

```bash
npm run build
npx wrangler deploy
```

#### 5. è¨ªå•éƒ¨ç½²é€£çµ

éƒ¨ç½²æˆåŠŸå¾Œï¼Œæ‚¨å°‡ç²å¾—ä¸€å€‹ Workers é€£çµï¼Œä¾‹å¦‚ï¼š
```
https://prorebuild.mopko5696.workers.dev
```

### GitHub Pages éƒ¨ç½² / GitHub Pages Deployment

#### 1. å•Ÿç”¨ GitHub Pages

1. å‰å¾€ GitHub å€‰åº«çš„ **Settings** â†’ **Pages**
2. åœ¨ **Source** ä¸­é¸æ“‡ **GitHub Actions**

#### 2. è‡ªå‹•éƒ¨ç½²

å°ˆæ¡ˆå·²åŒ…å« `.github/workflows/deploy-pages.yml` å·¥ä½œæµæª”æ¡ˆã€‚ç•¶æ‚¨æ¨é€ä»£ç¢¼åˆ° `main` åˆ†æ”¯æ™‚ï¼ŒGitHub Actions æœƒè‡ªå‹•ï¼š

1. å®‰è£ä¾è³´
2. å»ºç½®å°ˆæ¡ˆ
3. éƒ¨ç½²åˆ° GitHub Pages

#### 3. è¨ªå• GitHub Pages

éƒ¨ç½²å®Œæˆå¾Œï¼Œæ‚¨çš„ç¶²ç«™å°‡åœ¨ä»¥ä¸‹ç¶²å€å¯ç”¨ï¼š
```
https://mopkoen.github.io/urban-renewal-assessment
```

### æ‰‹å‹•éƒ¨ç½² / Manual Deployment

å¦‚æœéœ€è¦æ‰‹å‹•éƒ¨ç½²åˆ° GitHub Pagesï¼š

```bash
npm run build
npx wrangler pages deploy dist --project-name=prorebuild
```

---

## ğŸ” ç’°å¢ƒè®Šæ•¸ / Environment Variables

### `.env.local`

æ­¤æª”æ¡ˆç”¨æ–¼å­˜æ”¾æœ¬åœ°é–‹ç™¼ç’°å¢ƒçš„æ©Ÿå¯†è®Šæ•¸ï¼Œå·²è¢« `.gitignore` æ’é™¤ã€‚

#### å¯ç”¨è®Šæ•¸

| è®Šæ•¸åç¨± | èªªæ˜ | æ˜¯å¦å¿…å¡« |
|---------|------|---------|
| `GEMINI_API_KEY` | Google Gemini API é‡‘é‘° | å¦ï¼ˆç›®å‰æœªä½¿ç”¨ï¼‰ |

### ç¯„ä¾‹ / Example

```env
GEMINI_API_KEY=your_gemini_api_key_here
```

---

## â“ å¸¸è¦‹å•é¡Œ / FAQ

### Q: ç‚ºä»€éº¼é é¢é¡¯ç¤ºç©ºç™½ï¼Ÿ

A: è«‹æª¢æŸ¥ä»¥ä¸‹é …ç›®ï¼š
1. ç¢ºèª `index.html` ä¸­åŒ…å« `<script type="module" src="/index.tsx"></script>`
2. ç¢ºèªå»ºç½®æˆåŠŸä¸” `dist/` ç›®éŒ„ä¸­æœ‰æª”æ¡ˆ
3. æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°æ˜¯å¦æœ‰éŒ¯èª¤è¨Šæ¯
4. æ¸…é™¤ç€è¦½å™¨å¿«å–å¾Œé‡æ–°è¼‰å…¥

### Q: å¦‚ä½•æ›´æ–° Cloudflare Workersï¼Ÿ

A: åŸ·è¡Œ `npm run deploy:worker` æˆ– `npm run deploy` å³å¯æ›´æ–°ã€‚

### Q: å¦‚ä½•æ›´æ–° GitHub Pagesï¼Ÿ

A: æ¨é€ä»£ç¢¼åˆ° `main` åˆ†æ”¯ï¼ŒGitHub Actions æœƒè‡ªå‹•éƒ¨ç½²ã€‚

### Q: è¨ˆç®—çµæœä¸æ­£ç¢ºæ€éº¼è¾¦ï¼Ÿ

A: è«‹æª¢æŸ¥ï¼š
1. è¼¸å…¥åƒæ•¸æ˜¯å¦æ­£ç¢º
2. è¨ˆç®—é‚è¼¯æ˜¯å¦ç¬¦åˆæ‚¨çš„éœ€æ±‚ï¼ˆåƒè€ƒ `utils/calculations.ts`ï¼‰
3. å–®ä½æ˜¯å¦ä¸€è‡´ï¼ˆåª vs å¹³æ–¹å…¬å°ºï¼‰

### Q: å¦‚ä½•æ–°å¢æ–°çš„è¨ˆç®—é …ç›®ï¼Ÿ

A: åƒè€ƒ [é–‹ç™¼æŒ‡å—](#é–‹ç™¼æŒ‡å—--development-guide) ä¸­çš„ã€Œæ–°å¢åŠŸèƒ½ã€ç« ç¯€ã€‚

### Q: æ”¯æ´å“ªäº›ç€è¦½å™¨ï¼Ÿ

A: æ”¯æ´æ‰€æœ‰ç¾ä»£ç€è¦½å™¨ï¼ˆChromeã€Firefoxã€Safariã€Edgeï¼‰ï¼Œå»ºè­°ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ã€‚

---

## ğŸ“ æˆæ¬Š / License

æœ¬å°ˆæ¡ˆåƒ…ä¾›æ•™å­¸èˆ‡å­¸ç¿’ä½¿ç”¨ã€‚

This project is for educational and learning purposes only.

---

## ğŸ¤ è²¢ç» / Contributing

æ­¡è¿æäº¤ Issue å’Œ Pull Requestï¼

æ­¡è¿æ”¹é€²å»ºè­°å’ŒéŒ¯èª¤å›å ±ã€‚

---

## ğŸ“ è¯çµ¡æ–¹å¼ / Contact

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹é€é GitHub Issues è¯ç¹«ã€‚

---

## ğŸ“š ç›¸é—œæ–‡æª” / Related Documentation

è©³ç´°çš„æŠ€è¡“æ–‡æª”è«‹åƒè€ƒ `docs/` ç›®éŒ„ï¼š

- [å°ˆæ¡ˆæ¦‚è¿°](docs/01-å°ˆæ¡ˆæ¦‚è¿°.md)
- [å°ˆæ¡ˆçµæ§‹](docs/02-å°ˆæ¡ˆçµæ§‹.md)
- [å…¥å£æª”æ¡ˆ](docs/03-å…¥å£æª”æ¡ˆ.md)
- [ä¸»æ‡‰ç”¨ç¨‹å¼](docs/04-ä¸»æ‡‰ç”¨ç¨‹å¼.md)
- [é¡å‹å®šç¾©](docs/05-é¡å‹å®šç¾©.md)
- [è¨ˆç®—é‚è¼¯](docs/06-è¨ˆç®—é‚è¼¯.md)

---

**æœ€å¾Œæ›´æ–° / Last Updated**: 2025-12-07
